12

kubectl set image deployment.v1.apps/docker-log-generator docker-log-generator=coffeeapplied/dockerloggenerator:1.0.2 -n ms

resource "null_resource" "connect_aks" {
    triggers = {
        cluster_created = azurerm_kubernetes_cluster.main_aks.name
    }  
    provisioner "local-exec" {
        command = "az aks get-credentials --resource-group azurerm_resource_group.rg_main.name --name azurerm_kubernetes_cluster.main_aks.name"
    }
    provisioner "local-exec" {
        command = "kubectl create namespace random"
    }
    provisioner "local-exec" {
        command = "kubectl apply -f roles/terraform_aks_template/files/azure-aks-tf/ms/random.yaml"
    }
        provisioner "local-exec" {
        command = "kubectl set image deployment.v1.apps/random random=chentex/random-logger:latest -n random"
    }
}